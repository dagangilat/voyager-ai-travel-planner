{
  "type": "object",
  "properties": {
    "pro_subscription": {
      "type": "object",
      "properties": {
        "status": {
          "type": "string",
          "enum": [
            "free",
            "pro",
            "trial"
          ],
          "default": "free",
          "description": "Subscription status"
        },
        "trial_expires": {
          "type": "string",
          "format": "date-time",
          "description": "When trial expires"
        },
        "subscribed_at": {
          "type": "string",
          "format": "date-time",
          "description": "When user subscribed to pro"
        }
      }
    },
    "credits": {
      "type": "object",
      "properties": {
        "pro_searches_remaining": {
          "type": "number",
          "default": 10,
          "description": "Number of free Pro searches remaining"
        },
        "ai_generations_remaining": {
          "type": "number",
          "default": 1,
          "description": "Number of free AI trip generations remaining"
        }
      },
      "default": {
        "pro_searches_remaining": 10,
        "ai_generations_remaining": 1
      }
    },
    "discount_offered": {
      "type": "boolean",
      "default": false,
      "description": "Whether 50% discount was offered"
    },
    "terms_accepted": {
      "type": "boolean",
      "default": false,
      "description": "Whether user accepted terms of service"
    },
    "terms_accepted_at": {
      "type": "string",
      "format": "date-time",
      "description": "When user accepted terms"
    },
    "email_notifications": {
      "type": "object",
      "properties": {
        "trip_created": {
          "type": "boolean",
          "default": true,
          "description": "Send email when trip is created"
        },
        "trip_updated": {
          "type": "boolean",
          "default": true,
          "description": "Send email when trip is updated"
        },
        "trip_deleted": {
          "type": "boolean",
          "default": true,
          "description": "Send email when trip is deleted"
        }
      },
      "default": {
        "trip_created": true,
        "trip_updated": true,
        "trip_deleted": true
      }
    }
  },
  "name": "User",
  "required": [
    "pro_subscription",
    "credits"
  ]
}